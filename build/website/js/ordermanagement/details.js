webpackJsonp([13],{0:function(t,e,o){t.exports=o(69)},69:function(t,e,o){(function(t){function e(t){return t&&t.__esModule?t:{"default":t}}function i(e,o){var i=t.Deferred();return t.ajax({url:e,type:"post",dataType:"json",data:o,success:function(t){"0"==t.status?i.resolve(t):i.reject(t)},error:function(){i.reject()}}),i.promise()}o(3),o(7),o(9),o(13),o(15),o(36);var n=o(37),r=e(n);o(39),o(40),o(41);var a={};a.id=util.getUrlParam("id"),a.showDetails=function(e){util.loading.show(),t.when(i(config.showDetailsUrl,{id:e})).then(function(e){var o=r["default"].compile(t("#base-info-tmpl").html());t(".js-baseinfo").html(o(e.data));var i=r["default"].compile(t("#offer-list-tmpl").html());t(".offer-table tbody").html(i(e.data.offerList))},function(t){var e=t?t.msg?t.msg:"获取信息失败":"服务器无响应, 获取信息失败";util.prompt({text:e})}).always(function(){util.loading.hide()})},a.stop=function(e){t.when(i(config.stopOrderUrl,{orderid:e})).then(function(t){util.prompt({type:"success",text:"终止订单成功",callback:function(){a.showDetails(e)}})},function(t){var e=t?t.msg?t.msg:"终止订单失败":"服务器无响应, 终止订单失败";util.prompt({text:e})}).always(function(){util.loading.hide()})},a["delete"]=function(e){t.when(i(config.delOrderUrl,{orderid:e})).then(function(t){util.prompt({type:"success",text:"删除订单成功",callback:function(){a.showDetails(e)}})},function(t){var e=t?t.msg?t.msg:"删除订单失败":"服务器无响应, 删除订单失败";util.prompt({text:e})}).always(function(){util.loading.hide()})},a.affirm=function(e){t.when(i(config.affirmOderUrl,{orderid:e})).then(function(t){util.prompt({type:"success",text:"强制完成成功",callback:function(){a.showDetails(e)}})},function(t){var e=t?t.msg?t.msg:"强制完成失败":"服务器无响应, 强制完成失败";util.prompt({text:e})}).always(function(){util.loading.hide()})},a.showDetails(a.id),r["default"].registerHelper("compare",function(t,e,o){return t==e?o.fn(this):o.inverse(this)}),t(".js-baseinfo").on("click",".js-stopOrder",function(){var e=t(this).parents(".td-edit").eq(0),o=e.attr("orderid");if(!o)return util.prompt({text:"未获取到你选取的记录"}),!1;var i={text:t(this).text(),orderNumber:e.attr("ordernumber")};new dialog({button:[{value:"确定",autofocus:!0,callback:function(){a.stop(o)}},{value:"取消",callback:function(){}}],title:"终止订单",content:r["default"].compile(t("#dialog-tmpl").html())(i)}).showModal()}),t(".js-baseinfo").on("click",".js-deleteOrder",function(){var e=t(this).parents(".td-edit").eq(0),o=e.attr("orderid");if(!o)return util.prompt({text:"未获取到你选取的记录"}),!1;var i={text:t(this).text(),orderNumber:e.attr("ordernumber")};new dialog({button:[{value:"确定",autofocus:!0,callback:function(){a["delete"](o)}},{value:"取消",callback:function(){}}],title:"删除订单",content:r["default"].compile(t("#dialog-tmpl").html())(i)}).showModal()}),t(".js-baseinfo").on("click",".js-affirmOrder",function(){var e=t(this).parents(".td-edit").eq(0),o=e.attr("orderid");if(!o)return util.prompt({text:"未获取到你选取的记录"}),!1;var i={text:t(this).text(),orderNumber:e.attr("ordernumber")};new dialog({button:[{value:"确定",autofocus:!0,callback:function(){a.affirm(o)}},{value:"取消",callback:function(){}}],title:"强制已完成",content:r["default"].compile(t("#dialog-tmpl").html())(i)}).showModal()})}).call(e,o(2))}});