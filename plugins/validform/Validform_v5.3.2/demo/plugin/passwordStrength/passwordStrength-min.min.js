!function(a){a.fn.passwordStrength=function(b){b=a.extend({},a.fn.passwordStrength.defaults,b),this.each(function(){var c=a(this),d=0,e=!1,f=a(this).parents("form").find(".passwordStrength");c.bind("keyup blur",function(){d=a.fn.passwordStrength.ratepasswd(c.val(),b),d>=0&&0==e&&(e=!0),f.find("span").removeClass("bgStrength"),35>d&&d>=0?f.find("span:first").addClass("bgStrength"):60>d&&d>=35?f.find("span:lt(2)").addClass("bgStrength"):d>=60&&f.find("span:lt(3)").addClass("bgStrength"),e&&(c.val().length<b.minLen||c.val().length>b.maxLen)?b.showmsg(c,c.attr("errormsg"),3):e&&b.showmsg(c,"",2),b.trigger(c,!(d>=0))})})},a.fn.passwordStrength.ratepasswd=function(b,c){var d,e=b.length;return d=e>=c.minLen&&e<=c.maxLen?a.fn.passwordStrength.checkStrong(b):-1,d/4*100},a.fn.passwordStrength.checkStrong=function(b){for(var c=0,d=b.length,e=0;d>e;e++)c|=a.fn.passwordStrength.charMode(b.charCodeAt(e));return a.fn.passwordStrength.bitTotal(c)},a.fn.passwordStrength.charMode=function(a){return a>=48&&57>=a?1:a>=65&&90>=a?2:a>=97&&122>=a?4:8},a.fn.passwordStrength.bitTotal=function(a){for(var b=0,c=0;4>c;c++)1&a&&b++,a>>>=1;return b},a.fn.passwordStrength.defaults={minLen:0,maxLen:30,trigger:a.noop}}(jQuery);