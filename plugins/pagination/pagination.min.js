!function(a){a.PaginationCalculator=function(a,b){this.maxentries=a,this.opts=b},a.extend(a.PaginationCalculator.prototype,{numPages:function(){return Math.ceil(this.maxentries/this.opts.items_per_page)},getInterval:function(a){var b=Math.floor(this.opts.num_display_entries/2),c=this.numPages(),d=c-this.opts.num_display_entries,e=a>b?Math.max(Math.min(a-b,d),0):0,f=a>b?Math.min(a+b+this.opts.num_display_entries%2,c):Math.min(this.opts.num_display_entries,c);return{start:e,end:f}}}),a.PaginationRenderers={},a.PaginationRenderers.defaultRenderer=function(b,c){this.maxentries=b,this.opts=c,this.pc=new a.PaginationCalculator(b,c)},a.extend(a.PaginationRenderers.defaultRenderer.prototype,{createLink:function(b,c,d){var e,f=this.pc.numPages();return b=0>b?0:f>b?b:f-1,d=a.extend({text:b+1,classes:""},d||{}),e=b==c?a("<span class='btn btn-info'>"+d.text+"</span>"):a('<a class="btn btn-default">'+d.text+"</a>").attr("href",this.opts.link_to.replace(/__id__/,b)),d.classes&&e.addClass(d.classes),d.rel&&e.attr("rel",d.rel),e.data("page_id",b),e},appendRange:function(a,b,c,d,e){var f;for(f=c;d>f;f++)this.createLink(f,b,e).appendTo(a)},getLinks:function(b,c){var d,e,f=this.pc.getInterval(b),g=this.pc.numPages(),h=a("<div class='pagination'></div>");return this.opts.prev_text&&(b>0||this.opts.prev_show_always)&&h.append(this.createLink(b-1,b,{text:this.opts.prev_text,classes:"btn btn-default",rel:"prev"})),f.start>0&&this.opts.num_edge_entries>0&&(e=Math.min(this.opts.num_edge_entries,f.start),this.appendRange(h,b,0,e,{classes:"sp"}),this.opts.num_edge_entries<f.start&&this.opts.ellipse_text&&a('<span class="btn btn-default">'+this.opts.ellipse_text+"</span>").appendTo(h)),this.appendRange(h,b,f.start,f.end),f.end<g&&this.opts.num_edge_entries>0&&(g-this.opts.num_edge_entries>f.end&&this.opts.ellipse_text&&a('<span class="btn btn-default">'+this.opts.ellipse_text+"</span>").appendTo(h),d=Math.max(g-this.opts.num_edge_entries,f.end),this.appendRange(h,b,d,g,{classes:"ep"})),this.opts.next_text&&(g-1>b||this.opts.next_show_always)&&h.append(this.createLink(b+1,b,{text:this.opts.next_text,classes:"btn btn-default",rel:"next"})),a("a",h).click(c),h}}),a.fn.pagination=function(b,c){function d(b){var c=a(b.target).data("page_id"),d=e(c);return d||b.stopPropagation(),b.preventDefault(),d}function e(a){i.data("current_page",a),g=f.getLinks(a,d),i.empty(),g.appendTo(i);var b=c.callback(a,i);return b}c=a.extend({items_per_page:10,num_display_entries:11,current_page:0,num_edge_entries:0,link_to:"#",prev_text:"Prev",next_text:"Next",ellipse_text:"...",prev_show_always:!0,next_show_always:!0,renderer:"defaultRenderer",show_if_single_page:!1,load_first_page:!0,callback:function(){return!1}},c||{});var f,g,h,i=this;if(h=parseInt(c.current_page,10),i.data("current_page",h),b=!b||0>b?1:b,c.items_per_page=!c.items_per_page||c.items_per_page<0?1:c.items_per_page,!a.PaginationRenderers[c.renderer])throw new ReferenceError("Pagination renderer '"+c.renderer+"' was not found in jQuery.PaginationRenderers object.");f=new a.PaginationRenderers[c.renderer](b,c);var j=new a.PaginationCalculator(b,c),k=j.numPages();i.off("setPage").on("setPage",{numPages:k},function(a,b){return b>=0&&b<a.data.numPages?(e(b),!1):void 0}),i.off("prevPage").on("prevPage",function(b){var c=a(this).data("current_page");return c>0&&e(c-1),!1}),i.off("nextPage").on("nextPage",{numPages:k},function(b){var c=a(this).data("current_page");return c<b.data.numPages-1&&e(c+1),!1}),i.off("currentPage").on("currentPage",function(){var b=a(this).data("current_page");return e(b),!1}),g=f.getLinks(h,d),i.empty(),(k>1||c.show_if_single_page)&&g.appendTo(i),c.load_first_page&&c.callback(h,i)}}(jQuery);