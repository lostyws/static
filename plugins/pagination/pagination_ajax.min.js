/*! joyowo - v1.0.0 - 2014-11-03 */
function Paginationajax(a){this.tag=!0,this.ajaxurl=a.ajaxurl,this.callback=a.callback||function(){},this.setData=a.setData||function(){},this.ajaxdata=a.ajaxdata,this.paginationCls=a.paginationCls,this.type=a.type,this.dataType=a.dataType}Paginationajax.prototype.ajax=function(){var a=this;if(a.tag){var b=$.Deferred(),c=arguments[0],d=a.setData();return a.ajaxdata=$.extend(a.ajaxdata,{current_page:c},d||{}),$.ajax({type:a.type,url:a.ajaxurl,data:a.ajaxdata,dataType:a.dataType,success:function(c){b.resolve(c),a.callback(c),a.setData(),a.tag=!0}}),b.promise()}},Paginationajax.prototype.pagination=function(a){var b=this;b.tag=!1;var c=Math.ceil(a.total_size/a.page_size);$(b.paginationCls).pagination(c,{items_per_page:1,num_display_entries:5,num_edge_entries:10,prev_text:"上一页",next_text:"下一页",callback:function(){b.ajax.apply(b,arguments)}})},Paginationajax.prototype.init=function(){var a=this;$.when(this.ajax()).then(function(b){a.pagination(b)},function(){alert("请求失败")})};